<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Customer Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="/styles/customer.css">
</head>

<body>
    <div class="logo">
        <img src="../Pictures/logooo.png" id="logo" alt="Logo">
    </div>
    <div class="TOPnav">
        <div class="aTAGS">
            <a id="trendingTAG" href="/trending" class="nav-link">Trending</a>
            <a id="aboutUsTAG" href="/about" class="nav-link">About Us</a>
            <a id="supportTAG" href="/support" class="nav-link">Support</a>
        </div>

        <div class="CartLOGIN">
            <a href="/profile" class="icon-link">
                <i class="bi bi-person-circle"></i>
            </a>
            <a href="/cart" class="icon-link">
                <i class="bi bi-cart"></i>
            </a>
        </div>
    </div>
    <nav class="topNav">
        <div class="dropdown">
            <button class="dropbtn"><i class="bi bi-display"></i> PC</button>
            <div class="dropdown-content">
                <% pcGames.forEach(game => { %>
                <a href="<%= game.url %>"><%= game.name %></a>
                <% }); %>
            </div>
        </div>

        <div class="dropdown">
            <button class="dropbtn"><i class="bi bi-playstation"></i> PlayStation</button>
            <div class="dropdown-content">
                <% playstationGames.forEach(game => { %>
                <a href="<%= game.url %>"><%= game.name %></a>
                <% }); %>
            </div>
        </div>

        <div class="dropdown">
            <button class="dropbtn"><i class="bi bi-xbox"></i> Xbox</button>
            <div class="dropdown-content">
                <% xboxGames.forEach(game => { %>
                <a href="<%= game.url %>"><%= game.name %></a>
                <% }); %>
            </div>
        </div>

        <div class="dropdown">
            <button class="dropbtn"><i class="bi bi-nintendo-switch"></i> Nintendo</button>
            <div class="dropdown-content">
                <% nintendoGames.forEach(game => { %>
                <a href="<%= game.url %>"><%= game.name %></a>
                <% }); %>
            </div>
        </div>
        <div class="search-container">
            <div class="search-icon">
                <i class="bi bi-search" id="searchCircle"></i>
            </div>
            <input type="text" id="searchInput" class="search-input" placeholder="Search...">
        </div>
    </nav>

    <div class="manIcon">
        <img src="../Pictures/manIcon.png" id="manpic">
        <div class="HelloTXT">
            <h2>Hello,</h2>
            <h4><%= userName %></h4>
        </div>
    </div>

    <div class="buttons">
        <!-- Tab links -->
        <div class="tab">
            <button class="tablinks" onclick="openTab(event, 'PersonalInfo')">Personal Info</button>
            <button class="tablinks" onclick="openTab(event, 'OrderHistory')">Order History</button>
            <button class="tablinks" onclick="openTab(event, 'MyCart')">My Cart</button>
        </div>

        <!-- Tab content -->
        <div class="tabcontent-container">
            <div id="PersonalInfo" class="tabcontent">
                <h3>Personal Info</h3>
                <div class="post-input">
                    <label for="fullName">Full Name</label>
                    <input type="text" id="fullName" value="<%= user.fullName %>" readonly>
                </div>
                <div class="post-input">
                    <label for="shippingAddress">Shipping Address</label>
                    <textarea id="shippingAddress" readonly><%= user.shippingAddress %></textarea>
                </div>
                <div class="post-input">
                    <label for="email">Email</label>
                    <input type="email" id="email" value="<%= user.email %>" readonly>
                </div>
            </div>

            <div id="OrderHistory" class="tabcontent">
                <h3>Order History</h3>
                <ol class="list-group list-group-numbered">
                    <% orders.forEach(order => { %>
                    <li class="list-group-item d-flex justify-content-between align-items-start">
                        <div class="ms-2 me-auto">
                            <div class="fw-bold">Order No. <%= order.id %></div>
                            <ul>
                                <% order.items.forEach(item => { %>
                                <li><%= item %></li>
                                <% }); %>
                            </ul>
                        </div>
                        <span class="badge text-bg-primary rounded-pill"><%= order.total %></span>
                    </li>
                    <% }); %>
                </ol>
            </div>

            <div id="MyCart" class="tabcontent">
                <h3>My Cart</h3>
                <div class="card-container">
                    <% cartItems.forEach(item => { %>
                    <div class="card">
                        <img src="<%= item.imageUrl %>" id="ItemPIC">
                        <p class="price"><%= item.price %></p>
                        <p><%= item.name %></p>
                    </div>
                    <% }); %>
                </div>
            </div>
        </div>
    </div>

    <script src="/scripts/Customer.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-JsHpxZSPCFjFs8V7hNBIJ/TQyFtU4ROn/L4vhFYB6QR3EbhpbGIX6UAqF2qn6LFs"
        crossorigin="anonymous"></script>
</body>

</html>
